# operating system_6th
>调度机制：作业调度，进程调度
>作业调度算法，输入井，输出井
>进程调度算法：FCFS算法，短时间优先算法，时间片轮转算法

## 调度机制
`定义不清楚`
+ 按时间分：
	+ 长期调度 
		+ New-->Ready suspend
		+ Running-->exit
	+ 中期调度(`将进程的部分或全部加载到内存中`)
		+ Ready<--->Ready suspend
		+ Blocked<--->Blocked suspend
	+ 短期调度
		 + `选择那个I/O等待进程，使其请求可以被空闲的I/O设备进行处理
+ 按层次分：
	+ 宏观调度
		+ 创建作业，选择要传入内存的作业
		+ `又称为“宏观调度”、“高级调度”。从用户工作流程的角度，按一定的原则从后备队列选择若干个作业，为其分配必要的资源，创建其相应的进程，使它们具备竞争CPU的权利。另外，当作业执行结束后，负责回收系统资源。`
	+ 中级调度
		+ 从存储器资源的角度，将处于外存的需要的进程调入内存，将内存不需要的进程调入外存
	+ 微观调度
		+ 选择要执行的进程
> + 按照OS进行分类
	+ 批处理调度
	+ 分时调度、实时调度
	+ 多处理机调度

***
## 作业调度衡量的标准
>面向系统的调度性能准则
### 预执行时间
### 优先级
### 吞吐量
单位时间内调度的作业个数
### 处理机利用率
***
>面向用户的调度准则：
### 周转周期
单位时间内一个通路调度的作业个数
#### 平均周转周期
#### 响应时间
#### 截止时间
#### 公平性
`不因作业或进程本身的特性而使上述指标过分恶化。如长作业等待很长时间。`
#### 优先级
可以使关键任务达到更好的指标
***
## 作业调度算法
>审查系统能否满足用户作业的资源要求
>按照一定的算法选取作业
>目的：![image.png](https://i.loli.net/2019/10/29/MAHcpaFRZbUWdE9.png)

<font color=Blue>预处理程序-->输入井-->创建作业-->输出井-->完成</font>
>平均周转时间：![image.png](https://i.loli.net/2019/10/29/oELeaIfbNWnMlS1.png)
>平均带权周转时间：![image.png](https://i.loli.net/2019/10/29/1XtGAPWCfyTShcR.png)

## 进程调度算法
### 进程调度的功能：
>![image.png](https://i.loli.net/2019/10/29/1XtGAPWCfyTShcR.png)
### 合适切换进程
> `只要OS取得对CPU的控制，进程切换就可能发生`
	
### 先来先服务（first come first service）
调度规则：先来的进程先占用cpu，执行完成后才调度队列里的下一个进程进入cpu
+ 优点：
	+ 实现简单
	    +	 
+ 缺点：
	+ 因为进程占用cpu的时间很长，很导致cpu的利用率很低
	+  
>特点:
+ 比较有利于长作业，而不利于短作业
+ 有利于cpu繁忙的作业，而不利于I/O繁忙的作业

### 短时间优先算法
调度规则：根据进程的预测运行时间来确定在等待队列中的位置，运行时间短的进程先进入cpu，通常不抢先正在执行的作业
+ 优点：
	+ 吞吐量大，有效提高了处理机的利用率
	+ `比FCFS改善周转时间，缩短作业的等待时间`

+ 缺点：
	+ 时间长的进程可能会一直得不到cpu，导致饥饿现象
	+ `未能依据作业的紧迫程度来划分执行的优先级；`
	+ `难以准确估计作业（进程）的执行时间，从而影响调度性能。`         



### 时间片轮转算法
调度规则：队列位置的调度还是按照FCFR算法，然后给每个进程分配合适的时间片，进入cpu后时间片开始计时，当时间片使用完后就发生中断，保存上下文和psw并进行系统调用
+ 优点：
	+  提高了资源的利用率
+ 缺点：
	+ 如果时间片过长，则会退化成fcfr算法，如果时间片过断，调度的系统开销就会非常大
	+ 如果时间片过短，cache会来不及更新
T（响应时间）=T（进程个数）*T（时间片长度）
